# 静态类型变量
## 定义
Cyan语言中最基本的变量是**静态类型变量（Static Type Variable）**。
静态类型变量是只能保存一种类型（暂时这样理解）的对象的变量，要求在编译期确定唯一的类型。

使用`let`关键字来定义一个静态类型变量，变量名后跟变量的类型。
```Cyan
{==let==} a: int = 10;
```
一个定义语句可以定义多个变量，用逗号隔开。
```Cyan
let a: int = 10, b: str = "hello";
```

## 不可变变量与可变变量
Cyan语言的变量默认是**不可变的（Immutable）**，即在定义之后不能再进行修改 (1)。如果尝试修改会导致编译错误 (2)。
{.annotate}

1. **Q:** 为什么要这样设计？ <br>
   **A:** 变量默认不可变的依据是工程实践中的一个事实：多数变量的值在程序运行期间不会改变。基于这个事实，变量默认不可变的设计可以提高代码的安全性，并帮助编译期进行性能优化。
 
2. **编译错误（Compilation Error）**是指在编译期发现的错误，例如语法错误、使用未定义变量等。这种错误不需要等到运行的是否才发现，可以帮助开发者提前发现错误。

```Cyan
let a: int = 10;
a = 42;  // 编译错误：试图修改不可变变量`a`
```

如果需要修改变量的值，可以使用`mut`关键字来使变量变为**可变的（Mutable）**。可变变量的定义与静态类型变量的定义一样，只是在变量名前加上`mut`关键字。
```Cyan
let {==mut==} a: int = 10；
a = 42;  // OK
```
如果从语义上来划分的话，`mut a`是一个整体，而非`let mut`，所以一个`let`可以同时定义不可变变量和可变变量：
```Cyan
let a: int = 10, mut b: str = "hello";
a = 42;  // 编译错误
b = "world";  // OK
```

## 类型标注与类型推断
Cyan语言的静态类型变量的类型可以通过**类型标注（Type Annotation）**来手动指定。
类型标注语法是`变量名: 类型`，例如：
```Cyan
let a: int = 10;
```
但是为所有的变量都进行类型标注会很麻烦，所以Cyan语言支持**类型推断（Type Inference）**，即编译器会自动根据初始值推断变量的类型。例如：
```Cyan
let a = 10;  // 类型推断：变量`a`的类型推断为`int`
```

## 无初始化定义
有些时候，开发者在定义变量的时候不想或者无法进行初始化，这是可以使用**无初始化定义（Uninitialized Definition）**。在`let`前加上`late`关键字，编译期将不会对无初始值的变量定义报错。
```Cyan
let a: int;  // 编译错误：变量`a`未初始化
{==late==} let a: int;  // OK
```
但是`late`关键字只是绕过了编译器的报错，如果在运行时没有初始化变量`a`，将导致运行时的错误。
```Cyan
late let a: int;
print(a);  // 运行时错误：变量`a`未初始化
```
由于无初始化定义的变量是没有初始值的，也就没有了类型推断的依据，必须手动指定变量的类型。